# CmakeCpp

## 概要

cmake プロジェクトを VSCode で開き、ClaudeCode for VSCode で編集もビルドも実行結果の確認もさせてみたい。

## 内容

何らかの処理をして結果を端末に出力するプログラムを作る。又は実行中の情報を端末に出力させる。
以上の条件を守れば、ClaudeCode から開発、ビルド、実行して、出力を元に動作確認して ClaudeCode 単体で開発を続けられるようになるのでは？

## 検証結果

### できたこと ✓

1. **CMakeプロジェクトの設定**
   - CMakeLists.txtの作成・編集
   - 複数ターゲット（メインプログラム、テストプログラム）の設定

2. **四則演算クラスの実装**
   - Calculator クラスの作成（加算、減算、乗算、除算）
   - 例外処理の実装（ゼロ除算のエラーハンドリング）

3. **機能の段階的な追加**
   - 平方根機能の追加
   - 累乗機能の追加
   - 各機能追加後に即座にテストを追加して動作確認

4. **自前テストフレームワークの実装**
   - 標準出力にテスト結果を表示する簡易テストコード
   - Pass/Fail カウント機能
   - テストサマリーの表示

5. **ビルド・実行・確認サイクルの自動化**
   - `cmake -B build -S .` での設定
   - `cmake --build build --config Release` でのビルド
   - `./build/Release/calculator_test.exe` での実行
   - 端末出力を確認して次のアクションを決定

6. **継続的な開発サイクル**
   - 機能追加 → テスト追加 → ビルド → 実行 → 動作確認 → 次の機能追加
   - 全17個のテストがすべてパス

### できなかったこと ✗

1. **Google Test の導入**
   - FetchContent でのダウンロード・設定は成功
   - Windows環境でのリンクエラーが解決できず断念
   - MSVCのランタイムライブラリ設定（CRT）の問題が発生
   - エラー: `未解決の外部シンボル MakeAndRegisterTestInfo`

### 結論

ClaudeCode for VSCode は、以下の条件下で**自立的な開発サイクルを完結できる**ことが確認できました：

- ✓ CMakeを使ったC++プロジェクトの設定・ビルド
- ✓ コードの編集・機能追加
- ✓ 端末出力を伴うテストコードの作成
- ✓ ビルドエラーの確認と修正
- ✓ テスト実行結果の確認と次のアクションの判断
- ✓ 複数回の開発サイクルの反復

ただし、外部ライブラリ（Google Test等）の導入では環境依存の問題が発生する場合があるため、シンプルな自前実装を選択することで開発を継続できました。
